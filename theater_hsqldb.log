/*C12*/SET SCHEMA PUBLIC
DROP SCHEMA PUBLIC CASCADE
CREATE TABLE USER( USER_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100, INCREMENT BY 1) PRIMARY KEY, LAST_NAME VARCHAR(64), FIRST_NAME VARCHAR(64), EMAIL VARCHAR(64) UNIQUE, BIRTHDAY DATE, NUMBER_OF_TICKETS INT )
CREATE TABLE AUDITORIUM( AUDITORIUM_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 10, INCREMENT BY 1) PRIMARY KEY, NAME VARCHAR(64) UNIQUE, NUMBER_OF_SEATS INT, SEATS INT ARRAY DEFAULT ARRAY[], VIP_SEATS INT ARRAY DEFAULT ARRAY[] )
CREATE TABLE TICKET( TICKET_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100, INCREMENT BY 1) PRIMARY KEY, USER_ID INT, EVENT_ID INT, PRICING_STRATEGY_ID INT, SEAT VARCHAR(64), PRICE DOUBLE )
ALTER TABLE TICKET ADD FOREIGN KEY (USER_ID) REFERENCES USER(USER_ID)
CREATE INDEX IDX_USER_MAIL_ ON USER(EMAIL)
SET SCHEMA PUBLIC
INSERT INTO USER VALUES(100,'Adams','Roy','radams1v@xinhuanet.com','1985-07-18',10)
COMMIT
INSERT INTO USER VALUES(101,'Adams','Martin','madams2b@msu.edu','1985-07-22',2)
COMMIT
INSERT INTO USER VALUES(102,'Alvarez','Roger','ralvarezk@blogs.com','1985-07-30',1)
COMMIT
INSERT INTO USER VALUES(103,'Alvarez','Anne','aalvarez1y@mlb.com','1985-06-18',0)
COMMIT
INSERT INTO USER VALUES(104,'Alvarez','Ann','aalvarez20@jalbum.net','1985-07-18',0)
COMMIT
INSERT INTO USER VALUES(105,'Anderson','Betty','banderson14@digg.com','1985-10-18',0)
COMMIT
INSERT INTO USER VALUES(106,'Anderson','Laura','landerson24@icio.us','1985-01-18',0)
COMMIT
INSERT INTO USER VALUES(107,'Armstrong','Christopher','carmstrong2p@cyberchimps.com','1985-07-18',0)
COMMIT
INSERT INTO USER VALUES(108,'Bell','David','dbell2l@wp.com','1985-07-18',0)
COMMIT
INSERT INTO USER VALUES(109,'Berry','Paula','pberry1z@admin.ch','1985-07-18',0)
COMMIT
INSERT INTO USER VALUES(110,'Roy','Adams','radams1v@epam.com','1985-01-18',10)
COMMIT
INSERT INTO USER VALUES(111,'Martin','Adams','madams2b@epam.edu','1985-01-22',2)
COMMIT
INSERT INTO USER VALUES(112,'Roger','Alvarez','ralvarezk@epam.com','1985-01-30',1)
COMMIT
INSERT INTO USER VALUES(113,'Anne','Alvarez','aalvarez1y@epam.com','1985-01-18',0)
COMMIT
INSERT INTO USER VALUES(114,'Ann','Alvarez','aalvarez20@epam.net','1985-01-18',0)
COMMIT
INSERT INTO USER VALUES(115,'Betty','Anderson','banderson14@epam.com','1985-01-18',0)
COMMIT
INSERT INTO USER VALUES(116,'Laura','Anderson','landerson24@epam.us','1985-01-18',0)
COMMIT
INSERT INTO USER VALUES(117,'Christopher','Armstrong','carmstrong2p@epam.com','1985-01-18',0)
COMMIT
INSERT INTO USER VALUES(118,'David','Bell','dbell2l@epam.com','1985-01-18',0)
COMMIT
INSERT INTO USER VALUES(119,'Paula','Berry','pberry1z@epam.ch','1985-01-18',0)
COMMIT
DELETE FROM USER WHERE USER_ID=110
INSERT INTO USER VALUES(110,'Roy','Adams','radams1v@epam.com','1985-01-18',10)
COMMIT
DELETE FROM USER WHERE USER_ID=111
INSERT INTO USER VALUES(111,'Martin','Adams','madams2b@epam.edu','1985-01-22',2)
COMMIT
DELETE FROM USER WHERE USER_ID=112
INSERT INTO USER VALUES(112,'Roger','Alvarez','ralvarezk@epam.com','1985-01-30',1)
COMMIT
DELETE FROM USER WHERE USER_ID=113
INSERT INTO USER VALUES(113,'Anne','Alvarez','aalvarez1y@epam.com','1985-01-18',0)
COMMIT
DELETE FROM USER WHERE USER_ID=114
INSERT INTO USER VALUES(114,'Ann','Alvarez','aalvarez20@epam.net','1985-01-18',0)
COMMIT
DELETE FROM USER WHERE USER_ID=115
INSERT INTO USER VALUES(115,'Betty','Anderson','banderson14@epam.com','1985-01-18',0)
COMMIT
DELETE FROM USER WHERE USER_ID=116
INSERT INTO USER VALUES(116,'Laura','Anderson','landerson24@epam.us','1985-01-18',0)
COMMIT
DELETE FROM USER WHERE USER_ID=117
INSERT INTO USER VALUES(117,'Christopher','Armstrong','carmstrong2p@epam.com','1985-01-18',0)
COMMIT
DELETE FROM USER WHERE USER_ID=118
INSERT INTO USER VALUES(118,'David','Bell','dbell2l@epam.com','1985-01-18',0)
COMMIT
DELETE FROM USER WHERE USER_ID=119
INSERT INTO USER VALUES(119,'Paula','Berry','pberry1z@epam.ch','1985-01-18',0)
COMMIT
